<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse Jobs - ResumeBERT</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/dashboard.css">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <div id="header-container"></div>
    <div id="sidebar-container"></div>
    
    <main class="main-content">
        <div class="page-header">
            <h1>Browse Jobs</h1>
            <p>Find your next career opportunity with AI-powered matching</p>
        </div>

        <div class="jobs-container">
            <!-- Search and Filters -->
            <div class="jobs-filters">
                <div class="search-section">
                    <div class="search-input-wrapper">
                        <i data-lucide="search" class="search-icon"></i>
                        <input type="text" class="search-input" placeholder="Search jobs, companies, skills...">
                        <button class="search-btn" type="button">Search</button>
                    </div>
                </div>
                
                <div class="filters-section">
                    <div class="filter-group">
                        <label>Location</label>
                        <select class="filter-select">
                            <option value="">Any Location</option>
                            <option value="remote">Remote</option>
                            <option value="san-francisco">San Francisco, CA</option>
                            <option value="new-york">New York, NY</option>
                            <option value="seattle">Seattle, WA</option>
                            <option value="austin">Austin, TX</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>Job Type</label>
                        <select class="filter-select">
                            <option value="">Any Type</option>
                            <option value="full-time">Full-time</option>
                            <option value="part-time">Part-time</option>
                            <option value="contract">Contract</option>
                            <option value="internship">Internship</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>Experience Level</label>
                        <select class="filter-select">
                            <option value="">Any Level</option>
                            <option value="entry">Entry Level</option>
                            <option value="mid">Mid Level</option>
                            <option value="senior">Senior Level</option>
                            <option value="lead">Lead/Manager</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>Salary Range</label>
                        <select class="filter-select">
                            <option value="">Any Salary</option>
                            <option value="0-50000">$0 - $50,000</option>
                            <option value="50000-80000">$50,000 - $80,000</option>
                            <option value="80000-120000">$80,000 - $120,000</option>
                            <option value="120000+">$120,000+</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-outline filter-reset-btn">
                        <i data-lucide="refresh-cw"></i>
                        Reset Filters
                    </button>
                </div>
            </div>

            <!-- Job Results -->
            <div class="jobs-results">
                <div class="results-header">
                    <h3>1,247 jobs found</h3>
                    <div class="sort-options">
                        <label>Sort by:</label>
                        <select class="sort-select">
                            <option value="relevance">Relevance</option>
                            <option value="date">Date Posted</option>
                            <option value="salary">Salary</option>
                            <option value="match">Match Score</option>
                        </select>
                    </div>
                </div>

                <div class="jobs-list" id="jobs-list">
                    <!-- Job listings will be populated by JavaScript -->
                </div>

                <!-- Pagination -->
                <div class="pagination">
                    <button class="pagination-btn" disabled>
                        <i data-lucide="chevron-left"></i>
                        Previous
                    </button>
                    <div class="pagination-numbers">
                        <span class="page-number active">1</span>
                        <span class="page-number">2</span>
                        <span class="page-number">3</span>
                        <span class="page-dots">...</span>
                        <span class="page-number">25</span>
                    </div>
                    <button class="pagination-btn">
                        Next
                        <i data-lucide="chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Job Application Modal -->
    <div class="modal" id="job-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-job-title">Senior Frontend Developer</h2>
                <button class="modal-close" type="button" id="modal-close">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="job-details">
                    <div class="company-info">
                        <img src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=60&h=60&fit=crop" 
                             alt="Company Logo" class="company-logo">
                        <div>
                            <h3 id="modal-company-name">TechCorp Inc.</h3>
                            <p id="modal-company-location">San Francisco, CA</p>
                        </div>
                    </div>
                    
                    <div class="job-meta">
                        <div class="meta-item">
                            <i data-lucide="briefcase"></i>
                            <span id="modal-job-type">Full-time</span>
                        </div>
                        <div class="meta-item">
                            <i data-lucide="dollar-sign"></i>
                            <span id="modal-salary">$120,000 - $150,000</span>
                        </div>
                        <div class="meta-item">
                            <i data-lucide="clock"></i>
                            <span id="modal-posted">Posted 2 days ago</span>
                        </div>
                    </div>
                    
                    <div class="job-description" id="modal-description">
                        <!-- Job description will be populated -->
                    </div>
                    
                    <div class="job-requirements">
                        <h4>Requirements</h4>
                        <ul id="modal-requirements">
                            <!-- Requirements will be populated -->
                        </ul>
                    </div>
                </div>
                
                <div class="application-section">
                    <h4>Quick Apply</h4>
                    <div class="application-form">
                        <div class="form-group">
                            <label>Cover Letter</label>
                            <textarea placeholder="Write a brief cover letter explaining why you're interested in this position..." 
                                      rows="4"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Resume</label>
                            <div class="file-upload">
                                <input type="file" accept=".pdf,.doc,.docx" id="resume-upload">
                                <label for="resume-upload" class="file-upload-label">
                                    <i data-lucide="upload"></i>
                                    Choose File
                                </label>
                                <span class="file-name" id="file-name">No file chosen</span>
                            </div>
                        </div>
                        <button class="btn btn-primary apply-btn" type="button">
                            <i data-lucide="send"></i>
                            Submit Application
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="../js/main.js"></script>
    <script src="mock-data/jobs.js"></script>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
        
        // Sample job data (in a real app, this would come from an API)
        const sampleJobs = [
            {
                id: 1,
                title: "Senior Frontend Developer",
                company: "TechCorp Inc.",
                location: "San Francisco, CA",
                type: "Full-time",
                salary: "$120,000 - $150,000",
                posted: "2 days ago",
                matchScore: 95,
                logo: "https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=60&h=60&fit=crop",
                description: "We're looking for a Senior Frontend Developer to join our growing team...",
                requirements: ["5+ years of React experience", "TypeScript proficiency", "Team leadership skills"]
            },
            {
                id: 2,
                title: "Full Stack Engineer",
                company: "StartupXYZ",
                location: "Remote",
                type: "Full-time",
                salary: "$90,000 - $130,000",
                posted: "1 week ago",
                matchScore: 87,
                logo: "https://images.unsplash.com/photo-1551434678-e076c223a692?w=60&h=60&fit=crop",
                description: "Join our fast-growing startup as a Full Stack Engineer...",
                requirements: ["3+ years of full-stack development", "Node.js and React", "Startup experience preferred"]
            }
        ];
        
        // Populate jobs list
        function populateJobs() {
            const jobsList = document.getElementById('jobs-list');
            jobsList.innerHTML = '';
            
            sampleJobs.forEach(job => {
                const jobCard = document.createElement('div');
                jobCard.className = 'job-card';
                jobCard.innerHTML = `
                    <div class="job-card-header">
                        <img src="${job.logo}" alt="${job.company}" class="company-logo">
                        <div class="job-info">
                            <h3 class="job-title">${job.title}</h3>
                            <p class="company-name">${job.company}</p>
                            <div class="job-meta">
                                <span class="location"><i data-lucide="map-pin"></i> ${job.location}</span>
                                <span class="type"><i data-lucide="briefcase"></i> ${job.type}</span>
                                <span class="salary"><i data-lucide="dollar-sign"></i> ${job.salary}</span>
                                <span class="posted"><i data-lucide="clock"></i> ${job.posted}</span>
                            </div>
                        </div>
                        <div class="job-actions">
                            <div class="match-score">
                                <span class="score">${job.matchScore}%</span>
                                <span class="label">Match</span>
                            </div>
                            <button class="btn btn-primary apply-now-btn" onclick="openJobModal(${job.id})">
                                Apply Now
                            </button>
                        </div>
                    </div>
                    <div class="job-card-body">
                        <p class="job-description">${job.description}</p>
                        <div class="job-tags">
                            ${job.requirements.slice(0, 3).map(req => `<span class="tag">${req}</span>`).join('')}
                        </div>
                    </div>
                `;
                jobsList.appendChild(jobCard);
            });
        }
        
        // Open job modal
        function openJobModal(jobId) {
            const job = sampleJobs.find(j => j.id === jobId);
            if (!job) return;
            
            document.getElementById('modal-job-title').textContent = job.title;
            document.getElementById('modal-company-name').textContent = job.company;
            document.getElementById('modal-company-location').textContent = job.location;
            document.getElementById('modal-job-type').textContent = job.type;
            document.getElementById('modal-salary').textContent = job.salary;
            document.getElementById('modal-posted').textContent = `Posted ${job.posted}`;
            document.getElementById('modal-description').textContent = job.description;
            
            const requirementsList = document.getElementById('modal-requirements');
            requirementsList.innerHTML = job.requirements.map(req => `<li>${req}</li>`).join('');
            
            document.getElementById('job-modal').style.display = 'flex';
        }
        
        // Close modal
        document.getElementById('modal-close').addEventListener('click', () => {
            document.getElementById('job-modal').style.display = 'none';
        });
        
        // File upload handling
        document.getElementById('resume-upload').addEventListener('change', (e) => {
            const fileName = e.target.files[0]?.name || 'No file chosen';
            document.getElementById('file-name').textContent = fileName;
        });
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', populateJobs);
    </script>
</body>
</html>
